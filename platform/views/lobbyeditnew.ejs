<%- include ('templates/header') -%>
<%- include ('templates/navbar_full') -%>

<div class="container">
    <div class="row">
        <div class="col-xl-3 col-md-3 col-12"></div>
        <div class="col-xl-6 col-md-6 col-12">
            <div class="px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
                <h1>
                    <% if (typeof lobby === 'undefined'){ %>New lobby
                    <% }else{ %>Lobby settings
                    <% } %>
                </h1>
            </div>
            <form method="post">
                <input type="hidden" name="_lobbyID" value="<%= (typeof lobby === 'undefined') ? '' : lobby._lobbyID %>"/>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="Name">Lobby name</label>
                        <input type="text" class="form-control" id="Name" name="Name"
                               value="<%= (typeof lobby === 'undefined') ? '' : lobby.Name %>" placeholder="Name..."
                               required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="Game">Game</label>
                        <select class="form-control" id="Game" name="Game" required>
                            <% if (typeof lobby === 'undefined'){ %>
                                <% games.forEach((oneGame)=>{ %>
                                    <option value="<%= oneGame.Name %>"><%= oneGame.Name %></option>
                            <% }); } else { %>
                                <option value="<%= lobby._Game %>" selected><%= lobby._Game %></option>
                                <% games.forEach((oneGame)=>{ %>
                                    <option value="<%= oneGame.Name %>"><%= oneGame.Name %></option>
                            <% });} %>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="Capapcity">Number of players</label>
                        <select class="form-control" id="Capapcity" name="Capacity" required>
                            <% if (typeof lobby === 'undefined'){ %>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                            <% }else { %>
                                <option value="<%= lobby.Capacity %>"><%= lobby.Capacity %></option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                            <% } %>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="Team">Select your team:</label>
                        <select class="form-control" id="Team" required>
                            <option value="red">Red</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    <input type="submit" class="btn btn-primary"
                           value="<% if (typeof lobby === 'undefined'){ %>New lobby<% }else { %>Save<% } %>"/>
                    <a class="btn btn-link" href="/lobbies">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>

<%- include ('templates/footer') -%>